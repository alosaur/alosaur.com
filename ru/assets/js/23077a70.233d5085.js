"use strict";(self.webpackChunkalosaur_docs=self.webpackChunkalosaur_docs||[]).push([[599],{3905:function(e,t,r){r.d(t,{Zo:function(){return l},kt:function(){return f}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=u(r),f=o,m=d["".concat(c,".").concat(f)]||d[f]||p[f]||a;return r?n.createElement(m,s(s({ref:t},l),{},{components:r})):n.createElement(m,s({ref:t},l))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=d;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var u=2;u<a;u++)s[u]=r[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},4632:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return i},contentTitle:function(){return c},metadata:function(){return u},toc:function(){return l},default:function(){return d}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),s=["components"],i={sidebar_position:10},c="Standart Hooks",u={unversionedId:"basics/Standart Hooks",id:"basics/Standart Hooks",isDocsHomePage:!1,title:"Standart Hooks",description:"Alosaur supports several standard hooks, some of which are shown below:",source:"@site/docs/basics/Standart Hooks.md",sourceDirName:"basics",slug:"/basics/Standart Hooks",permalink:"/ru/docs/basics/Standart Hooks",editUrl:"https://github.com/alosaur/docs/edit/master/docs/basics/Standart Hooks.md",version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Security",permalink:"/ru/docs/basics/Security"},next:{title:"WebSocket",permalink:"/ru/docs/techniques/WebSocket"}},l=[{value:"Response cache Hook",id:"response-cache-hook",children:[]}],p={toc:l};function d(e){var t=e.components,r=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"standart-hooks"},"Standart Hooks"),(0,a.kt)("p",null,"Alosaur supports several standard hooks, some of which are shown below:"),(0,a.kt)("h2",{id:"response-cache-hook"},"Response cache Hook"),(0,a.kt)("p",null,"This hook is used to save the response for the first time and give it away immediately in subsequent requests."),(0,a.kt)("p",null,"In order to use this hook it is necessary to request CasheStore:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"const app = new App({\n  areas: [CoreArea],\n  providers: [{\n    token: ResponseCacheStoreToken,\n    useClass: MemoryResponseCacheStore, // by default implemented in Alosaur\n  }],\n});\n")),(0,a.kt)("p",null,"\u0418 \u0434\u0430\u043b\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 ",(0,a.kt)("inlineCode",{parentName:"p"},"@ResponseCache")," \u0432 controller action:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'@Get()\n  @ResponseCache({ duration: 2000 })\n  async text() {\n    // long task\n    await delay(200);\n    return "Hello world";\n  }\n')),(0,a.kt)("p",null,"@ResponseCache takes ResponseCachePayload interface which includes parameters:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"duration: number; - The time to save the query result in ms."),(0,a.kt)("li",{parentName:"ul"},"getHash?: (context: Context) => string; - Function to get request hash from context, by default it is serverRequest.url")))}d.isMDXComponent=!0}}]);